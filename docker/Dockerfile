FROM openjdk:11-jre
MAINTAINER Farnsworth2008@gmail.com

EXPOSE 80

ENV MOAR_OPEN_CAGE_API_KEY1 $MOAR_OPEN_CAGE_API_KEY1
ENV MOAR_STRAVA_MYSQL $MOAR_STRAVA_MYSQL
ENV MOAR_STRAVA_MYSQL_USERNAME $MOAR_STRAVA_MYSQL_USERNAME
ENV MOAR_STRAVA_MYSQL_PASSWORD $MOAR_STRAVA_MYSQL_PASSWORD
ENV MOAR_STRAVA_CLIENT_ID $MOAR_STRAVA_CLIENT_ID
ENV MOAR_STRAVA_CLIENT_SECRET $MOAR_STRAVA_CLIENT_SECRET

COPY wrapper.sh /wrapper.sh
COPY ROOT.war /ROOT.war

ENTRYPOINT ["/wrapper.sh"]
